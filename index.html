<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NiggaBook - Social Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary: #1877f2;
            --secondary: #3498db;
            --accent: #e74c3c;
            --background: #f5f6fa;
            --card-bg: rgba(255, 255, 255, 0.95);
            --shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, var(--background), #dfe4ea);
            min-height: 100vh;
            padding: 10px;
            overflow-x: hidden;
        }

        .container {
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
        }

        .header {
            background: var(--card-bg);
            padding: 1rem;
            border-radius: 20px;
            box-shadow: var(--shadow);
            backdrop-filter: blur(12px);
            animation: slideIn 0.5s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            position: sticky;
            top: 10px;
            z-index: 10;
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        h1 {
            color: var(--primary);
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 1px;
            font-weight: 700;
        }

        .create-post {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 20px;
            box-shadow: var(--shadow);
            backdrop-filter: blur(12px);
            margin-bottom: 1.5rem;
            animation: fadeIn 0.5s ease;
        }

        .create-post textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            font-size: clamp(0.9rem, 3vw, 1rem);
            transition: var(--transition);
            background: rgba(245, 245, 247, 0.7);
            resize: vertical;
            margin-bottom: 1rem;
            min-height: 80px;
        }

        .create-post textarea:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 5px rgba(24, 119, 242, 0.3);
        }

        .button-group {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        button, label {
            padding: 10px 20px;
            border: none;
            border-radius: 12px;
            font-size: clamp(0.8rem, 2.5vw, 1rem);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            min-width: 100px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            position: relative;
            overflow: hidden;
            color: white;
            flex: 1;
        }

        button::after, label::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s ease, height 0.6s ease;
        }

        button:hover::after, label:hover::after {
            width: 200px;
            height: 200px;
        }

        button:hover, label:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }

        .post-btn { background: linear-gradient(45deg, var(--primary), #165dbb); }
        .image-btn { background: linear-gradient(45deg, #2ecc71, #27ae60); }
        .nigga-mode-btn { 
            background: linear-gradient(45deg, #8e44ad, #732d91); 
            padding: 10px 20px;
            min-width: 100px;
            font-size: clamp(0.8rem, 2.5vw, 1rem);
        }
        .report-btn { background: linear-gradient(45deg, #95a5a6, #7f8c8d); }
        .live-btn { background: linear-gradient(45deg, #e74c3c, #c0392b); }
        .poll-btn { background: linear-gradient(45deg, #3498db, #2980b9); }
        .gif-btn { background: linear-gradient(45deg, #9b59b6, #8e44ad); }

        .create-post select {
            padding: 10px;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            font-size: clamp(0.9rem, 3vw, 1rem);
            background: rgba(245, 245, 247, 0.7);
            transition: var(--transition);
            width: 100%;
            margin-bottom: 0.5rem;
        }

        .create-post select:focus {
            border-color: var(--primary);
            outline: none;
        }

        .create-post input[type="file"] {
            display: none;
        }

        .post {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 1.5rem;
            position: relative;
            animation: fadeIn 0.5s ease;
        }

        .post-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .profile-pic {
            width: clamp(40px, 10vw, 50px);
            height: clamp(40px, 10vw, 50px);
            border-radius: 50%;
            margin-right: 1rem;
            background: #ddd url('https://via.placeholder.com/50');
            background-size: cover;
        }

        .post-meta {
            flex-grow: 1;
        }

        .username {
            font-weight: 600;
            color: #2c3e50;
            font-size: clamp(0.9rem, 3vw, 1rem);
        }

        .timestamp {
            color: #7f8c8d;
            font-size: clamp(0.7rem, 2vw, 0.9rem);
        }

        .category {
            color: var(--primary);
            font-size: clamp(0.7rem, 2vw, 0.9rem);
            margin-left: 0.5rem;
        }

        .post-content {
            margin-bottom: 1rem;
            color: #2c3e50;
            font-size: clamp(0.9rem, 3vw, 1rem);
        }

        .post-image {
            max-width: 100%;
            border-radius: 12px;
            margin-bottom: 1rem;
        }

        .poll-options {
            margin-top: 1rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .poll-option {
            padding: 0.5rem;
            border: 1px solid #ecf0f1;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
        }

        .poll-option:hover {
            background: rgba(24, 119, 242, 0.1);
        }

        .poll-option.voted {
            background: rgba(24, 119, 242, 0.3);
            font-weight: 600;
        }

        .action-section {
            display: flex;
            gap: 0.5rem;
            border-top: 1px solid #ecf0f1;
            padding-top: 1rem;
            flex-wrap: wrap;
        }

        .action-btn {
            background: none;
            border: none;
            color: #7f8c8d;
            cursor: pointer;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: clamp(0.8rem, 2.5vw, 1rem);
            transition: var(--transition);
        }

        .action-btn:hover {
            background: rgba(0, 0, 0, 0.05);
            border-radius: 12px;
        }

        .action-btn.active {
            color: var(--primary);
            font-weight: 600;
        }

        .count {
            color: #7f8c8d;
        }

        .reactions {
            display: none;
            position: absolute;
            top: -50px;
            left: 0;
            background: var(--card-bg);
            padding: 0.5rem;
            border-radius: 20px;
            box-shadow: var(--shadow);
        }

        .action-btn:hover .reactions {
            display: flex;
            gap: 0.5rem;
        }

        .reaction {
            font-size: clamp(1rem, 4vw, 1.5rem);
            padding: 0 0.3rem;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .reaction:hover {
            transform: scale(1.2);
        }

        .comments-section {
            border-top: 1px solid #ecf0f1;
            padding-top: 1rem;
        }

        .comment {
            display: flex;
            margin: 0.8rem 0;
            align-items: center;
        }

        .comment-input {
            width: 100%;
            padding: 10px 12px;
            border: 2px solid #ecf0f1;
            border-radius: 12px;
            font-size: clamp(0.8rem, 2.5vw, 1rem);
            background: rgba(245, 245, 247, 0.7);
            transition: var(--transition);
        }

        .comment-input:focus {
            border-color: var(--primary);
            outline: none;
        }

        .delete-btn, .edit-btn, .report-btn {
            background: none;
            border: none;
            color: #7f8c8d;
            cursor: pointer;
            font-size: clamp(1rem, 3vw, 1.2rem);
            position: absolute;
            top: 1rem;
            transition: var(--transition);
        }

        .delete-btn:hover { color: var(--accent); }
        .edit-btn:hover { color: var(--primary); }
        .report-btn:hover { color: #95a5a6; }
        .delete-btn { right: 1rem; }
        .edit-btn { right: 3rem; }
        .report-btn { right: 5rem; }

        .save-btn {
            background: linear-gradient(45deg, #f1c40f, #e67e22);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
        }

        .save-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }

        .friend-requests, .notifications, .trending, .stories {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 20px;
            box-shadow: var(--shadow);
            margin-top: 1.5rem;
            animation: fadeIn 0.5s ease;
        }

        .friend-requests h3, .notifications h3, .trending h3, .stories h3 {
            color: var(--primary);
            margin-bottom: 1rem;
            font-size: clamp(1rem, 3.5vw, 1.2rem);
        }

        .friend-request, .notification, .trending-item, .story {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 0.5rem 0;
        }

        .notification, .trending-item {
            padding: 0.5rem;
            border-bottom: 1px solid #ecf0f1;
        }

        .notification:last-child, .trending-item:last-child {
            border-bottom: none;
        }

        .trending-item span, .story span {
            color: #2c3e50;
            font-size: clamp(0.8rem, 2.5vw, 1rem);
        }

        .trending-item .count {
            font-size: clamp(0.7rem, 2vw, 0.9rem);
        }

        .story {
            padding: 0.5rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .story:hover {
            background: rgba(24, 119, 242, 0.1);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        @media (max-width: 480px) {
            body { padding: 5px; }
            .header, .create-post, .post, .friend-requests, .notifications, .trending, .stories { padding: 1rem; margin-bottom: 1rem; }
            .button-group { gap: 0.3rem; }
            button, label { padding: 8px 15px; min-width: 80px; }
            .post-header { flex-direction: row; align-items: flex-start; }
            .action-section { justify-content: space-around; }
            .reactions { top: -40px; padding: 0.3rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>NiggaBook</h1>
        </div>

        <div class="stories">
            <h3>Stories</h3>
            <div class="story" onclick="viewStory('Sabbir is chilling!')">
                <span>Sabbir's Story</span>
            </div>
            <div class="story" onclick="viewStory('Rahim got a new gadget!')">
                <span>Rahim's Story</span>
            </div>
        </div>

        <div class="create-post">
            <textarea placeholder="What's on your mind, Sabbir?" rows="3"></textarea>
            <div class="button-group">
                <select id="category">
                    <option value="general">General</option>
                    <option value="fun">Fun</option>
                    <option value="news">News</option>
                    <option value="tech">Tech</option>
                </select>
                <label for="image-upload" class="image-btn">Add Image</label>
                <input type="file" id="image-upload" accept="image/*" onchange="previewImage(this)">
                <button class="poll-btn" onclick="createPoll()">Add Poll</button>
                <button class="gif-btn" onclick="addGif()">Add GIF</button>
                <button class="live-btn" onclick="goLive()">Go Live</button>
                <button class="nigga-mode-btn" onclick="toggleDarkMode()">Nigga Mode</button>
                <button class="post-btn" onclick="createPost()">Post</button>
            </div>
        </div>

        <div id="posts-container">
            <div class="post">
                <button class="report-btn" onclick="reportPost(this)">⚠</button>
                <button class="delete-btn" onclick="deletePost(this)">×</button>
                <button class="edit-btn" onclick="editPost(this)">✎</button>
                <div class="post-header">
                    <div class="profile-pic"></div>
                    <div class="post-meta">
                        <div class="username">Sabbir <span class="category">General</span></div>
                        <div class="timestamp">Just now</div>
                    </div>
                </div>
                <div class="post-content">Having a great day today! The weather is perfect for a walk.</div>
                <div class="action-section">
                    <button class="action-btn" onclick="toggleLike(this)">
                        <i class="fas fa-thumbs-up"></i> Like <span class="count">0</span>
                        <div class="reactions">
                            <span class="reaction" onclick="react(this, '👍')">👍</span>
                            <span class="reaction" onclick="react(this, '❤️')">❤️</span>
                            <span class="reaction" onclick="react(this, '😂')">😂</span>
                            <span class="reaction" onclick="react(this, '😮')">😮</span>
                            <span class="reaction" onclick="react(this, '😢')">😢</span>
                            <span class="reaction" onclick="react(this, '😡')">😡</span>
                        </div>
                    </button>
                    <button class="action-btn" onclick="toggleComment(this)">
                        <i class="fas fa-comment"></i> Comment <span class="count">1</span>
                    </button>
                    <button class="action-btn" onclick="toggleShare(this)">
                        <i class="fas fa-share"></i> Share <span class="count">0</span>
                    </button>
                    <button class="save-btn" onclick="savePost(this)">Save</button>
                </div>
                <div class="comments-section">
                    <div class="comment">
                        <div class="profile-pic"></div>
                        <div>Great to hear! Enjoy your walk, Sabbir! - Ayesha</div>
                    </div>
                    <input type="text" class="comment-input" placeholder="Write a comment..." 
                           onkeypress="addComment(event, this)">
                </div>
            </div>
            <div class="post">
                <button class="report-btn" onclick="reportPost(this)">⚠</button>
                <button class="delete-btn" onclick="deletePost(this)">×</button>
                <button class="edit-btn" onclick="editPost(this)">✎</button>
                <div class="post-header">
                    <div class="profile-pic"></div>
                    <div class="post-meta">
                        <div class="username">Rahim <span class="category">Tech</span></div>
                        <div class="timestamp">5 minutes ago</div>
                    </div>
                </div>
                <div class="post-content">Just got the new smartphone, loving the features!</div>
                <div class="action-section">
                    <button class="action-btn" onclick="toggleLike(this)">
                        <i class="fas fa-thumbs-up"></i> Like <span class="count">3</span>
                        <div class="reactions">
                            <span class="reaction" onclick="react(this, '👍')">👍</span>
                            <span class="reaction" onclick="react(this, '❤️')">❤️</span>
                            <span class="reaction" onclick="react(this, '😂')">😂</span>
                            <span class="reaction" onclick="react(this, '😮')">😮</span>
                            <span class="reaction" onclick="react(this, '😢')">😢</span>
                            <span class="reaction" onclick="react(this, '😡')">😡</span>
                        </div>
                    </button>
                    <button class="action-btn" onclick="toggleComment(this)">
                        <i class="fas fa-comment"></i> Comment <span class="count">2</span>
                    </button>
                    <button class="action-btn" onclick="toggleShare(this)">
                        <i class="fas fa-share"></i> Share <span class="count">1</span>
                    </button>
                    <button class="save-btn" onclick="savePost(this)">Save</button>
                </div>
                <div class="comments-section" style="display: none;">
                    <input type="text" class="comment-input" placeholder="Write a comment..." 
                           onkeypress="addComment(event, this)">
                </div>
            </div>
        </div>

        <div class="friend-requests">
            <h3>Friend Requests</h3>
            <div class="friend-request">
                <span>Ayesha Khan</span>
                <div class="button-group">
                    <button class="post-btn" onclick="acceptFriend(this)">Accept</button>
                    <button class="save-btn" onclick="declineFriend(this)">Decline</button>
                </div>
            </div>
            <div class="friend-request">
                <span>Rahim Hossain</span>
                <div class="button-group">
                    <button class="post-btn" onclick="acceptFriend(this)">Accept</button>
                    <button class="save-btn" onclick="declineFriend(this)">Decline</button>
                </div>
            </div>
            <div class="friend-request">
                <span>Fatima Begum</span>
                <div class="button-group">
                    <button class="post-btn" onclick="acceptFriend(this)">Accept</button>
                    <button class="save-btn" onclick="declineFriend(this)">Decline</button>
                </div>
            </div>
        </div>

        <div class="notifications">
            <h3>Notifications</h3>
            <div class="notification">
                <span>Ayesha Khan liked your post</span>
            </div>
            <div class="notification">
                <span>Rahim Hossain commented on your post</span>
            </div>
        </div>

        <div class="trending">
            <h3>Trending Topics</h3>
            <div class="trending-item">
                <span>#TechRevolution</span>
                <span class="count">1.2k posts</span>
            </div>
            <div class="trending-item">
                <span>#SummerVibes</span>
                <span class="count">850 posts</span>
            </div>
            <div class="trending-item">
                <span>#NewsUpdate</span>
                <span class="count">600 posts</span>
            </div>
        </div>
    </div>

    <script>
        let selectedImage = null;
        let isDarkMode = false;

        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.body.style.background = isDarkMode 
                ? "linear-gradient(135deg, #2c3e50, #34495e)"
                : "linear-gradient(135deg, #f5f6fa, #dfe4ea)";
            
            document.querySelectorAll(".header, .create-post, .post, .friend-requests, .notifications, .trending, .stories").forEach(el => {
                el.style.background = isDarkMode 
                    ? "rgba(52, 73, 94, 0.95)" 
                    : "rgba(255, 255, 255, 0.95)";
            });

            document.querySelectorAll(".username, .post-content, .trending-item span, .story span").forEach(el => {
                el.style.color = isDarkMode ? "#dfe4ea" : "#2c3e50";
            });

            document.querySelectorAll(".timestamp, .count, .action-btn").forEach(el => {
                el.style.color = isDarkMode ? "#b0b3b8" : "#7f8c8d";
            });

            document.querySelectorAll(".action-section, .comments-section, .notification, .trending-item").forEach(el => {
                el.style.borderColor = isDarkMode ? "#627285" : "#ecf0f1";
            });

            document.querySelector(".nigga-mode-btn").innerText = isDarkMode ? "Light Mode" : "Nigga Mode";
        }

        function previewImage(input) {
            const file = input.files[0];
            if (file) {
                selectedImage = URL.createObjectURL(file);
            }
        }

        function toggleLike(button) {
            const countElement = button.querySelector('.count');
            let count = parseInt(countElement.textContent);
            button.classList.toggle('active');
            countElement.textContent = button.classList.contains('active') ? count + 1 : count - 1;
            if (button.classList.contains('active')) {
                addNotification(`You liked a post by ${button.closest('.post').querySelector('.username').textContent.split(' ')[0]}`);
                updateTrending(button.closest('.post').querySelector('.category').textContent.slice(1));
            }
        }

        function react(element, reaction) {
            const button = element.closest('.action-btn');
            button.innerHTML = `${reaction} <span class="count">1</span>`;
            button.classList.add('active');
            button.onclick = () => toggleLike(button);
            addNotification(`You reacted ${reaction} to a post by ${button.closest('.post').querySelector('.username').textContent.split(' ')[0]}`);
            updateTrending(button.closest('.post').querySelector('.category').textContent.slice(1));
        }

        function toggleComment(button) {
            const post = button.closest('.post');
            const commentsSection = post.querySelector('.comments-section');
            commentsSection.style.display = commentsSection.style.display === 'none' ? 'block' : 'none';
        }

        function toggleShare(button) {
            const countElement = button.querySelector('.count');
            let count = parseInt(countElement.textContent);
            button.classList.toggle('active');
            if (button.classList.contains('active')) {
                count++;
                alert('Post shared!');
                addNotification(`You shared a post by ${button.closest('.post').querySelector('.username').textContent.split(' ')[0]}`);
                updateTrending(button.closest('.post').querySelector('.category').textContent.slice(1));
            } else {
                count--;
            }
            countElement.textContent = count;
        }

        function createPost() {
            const textarea = document.querySelector('.create-post textarea');
            const content = textarea.value.trim();
            const imageUpload = document.getElementById('image-upload');
            const category = document.getElementById('category').value;

            if (!content && !selectedImage) return;

            const postsContainer = document.getElementById('posts-container');
            const newPost = document.createElement('div');
            newPost.className = 'post';
            newPost.innerHTML = `
                <button class="report-btn" onclick="reportPost(this)">⚠</button>
                <button class="delete-btn" onclick="deletePost(this)">×</button>
                <button class="edit-btn" onclick="editPost(this)">✎</button>
                <div class="post-header">
                    <div class="profile-pic"></div>
                    <div class="post-meta">
                        <div class="username">Sabbir <span class="category">${category}</span></div>
                        <div class="timestamp">Just now</div>
                    </div>
                </div>
                <div class="post-content">${content}</div>
                ${selectedImage ? `<img class="post-image" src="${selectedImage}" alt="Post image">` : ''}
                <div class="action-section">
                    <button class="action-btn" onclick="toggleLike(this)">
                        <i class="fas fa-thumbs-up"></i> Like <span class="count">0</span>
                        <div class="reactions">
                            <span class="reaction" onclick="react(this, '👍')">👍</span>
                            <span class="reaction" onclick="react(this, '❤️')">❤️</span>
                            <span class="reaction" onclick="react(this, '😂')">😂</span>
                            <span class="reaction" onclick="react(this, '😮')">😮</span>
                            <span class="reaction" onclick="react(this, '😢')">😢</span>
                            <span class="reaction" onclick="react(this, '😡')">😡</span>
                        </div>
                    </button>
                    <button class="action-btn" onclick="toggleComment(this)">
                        <i class="fas fa-comment"></i> Comment <span class="count">0</span>
                    </button>
                    <button class="action-btn" onclick="toggleShare(this)">
                        <i class="fas fa-share"></i> Share <span class="count">0</span>
                    </button>
                    <button class="save-btn" onclick="savePost(this)">Save</button>
                </div>
                <div class="comments-section" style="display: none;">
                    <input type="text" class="comment-input" placeholder="Write a comment..." 
                           onkeypress="addComment(event, this)">
                </div>
            `;
            postsContainer.insertBefore(newPost, postsContainer.firstChild);

            textarea.value = '';
            imageUpload.value = '';
            selectedImage = null;
            addNotification('You created a new post');
            updateTrending(category);
        }

        function addComment(event, input) {
            if (event.key !== 'Enter' || !input.value.trim()) return;

            const commentsSection = input.parentElement;
            const newComment = document.createElement('div');
            newComment.className = 'comment';
            newComment.innerHTML = `
                <div class="profile-pic"></div>
                <div>${input.value.trim()} - Sabbir</div>
            `;
            commentsSection.insertBefore(newComment, input);
            const countElement = commentsSection.previousElementSibling.querySelectorAll('.action-btn')[1].querySelector('.count');
            countElement.textContent = parseInt(countElement.textContent) + 1;
            input.value = '';
            addNotification(`You commented on a post by ${commentsSection.closest('.post').querySelector('.username').textContent.split(' ')[0]}`);
            updateTrending(commentsSection.closest('.post').querySelector('.category').textContent.slice(1));
        }

        function deletePost(button) {
            if (confirm('Are you sure you want to delete this post?')) {
                const username = button.closest('.post').querySelector('.username').textContent.split(' ')[0];
                button.parentElement.remove();
                addNotification(`You deleted a post by ${username}`);
            }
        }

        function editPost(button) {
            const post = button.parentElement;
            const content = post.querySelector('.post-content');
            const newContent = prompt('Edit your post:', content.textContent);
            if (newContent !== null) {
                content.textContent = newContent;
                addNotification(`You edited a post`);
            }
        }

        function savePost(button) {
            alert('Post saved!');
            addNotification(`You saved a post by ${button.closest('.post').querySelector('.username').textContent.split(' ')[0]}`);
        }

        function reportPost(button) {
            if (confirm('Report this post?')) {
                alert('Post reported to moderators.');
                addNotification(`You reported a post by ${button.closest('.post').querySelector('.username').textContent.split(' ')[0]}`);
            }
        }

        function acceptFriend(button) {
            const name = button.parentElement.parentElement.querySelector('span').textContent;
            alert(`Friend request from ${name} accepted!`);
            button.parentElement.parentElement.remove();
            addNotification(`You accepted a friend request from ${name}`);
        }

        function declineFriend(button) {
            const name = button.parentElement.parentElement.querySelector('span').textContent;
            alert(`Friend request from ${name} declined!`);
            button.parentElement.parentElement.remove();
            addNotification(`You declined a friend request from ${name}`);
        }

        function goLive() {
            alert('Going Live! (Mock feature - imagine a live streaming popup)');
            addNotification('You started a live session');
            const postsContainer = document.getElementById('posts-container');
            const livePost = document.createElement('div');
            livePost.className = 'post';
            livePost.innerHTML = `
                <button class="report-btn" onclick="reportPost(this)">⚠</button>
                <button class="delete-btn" onclick="deletePost(this)">×</button>
                <div class="post-header">
                    <div class="profile-pic"></div>
                    <div class="post-meta">
                        <div class="username">Sabbir <span class="category">Live</span></div>
                        <div class="timestamp">Just now</div>
                    </div>
                </div>
                <div class="post-content">🔴 Live Now: Check out what I'm up to!</div>
                <div class="action-section">
                    <button class="action-btn" onclick="toggleLike(this)">
                        <i class="fas fa-thumbs-up"></i> Like <span class="count">0</span>
                        <div class="reactions">
                            <span class="reaction" onclick="react(this, '👍')">👍</span>
                            <span class="reaction" onclick="react(this, '❤️')">❤️</span>
                            <span class="reaction" onclick="react(this, '😂')">😂</span>
                            <span class="reaction" onclick="react(this, '😮')">😮</span>
                            <span class="reaction" onclick="react(this, '😢')">😢</span>
                            <span class="reaction" onclick="react(this, '😡')">😡</span>
                        </div>
                    </button>
                    <button class="action-btn" onclick="toggleComment(this)">
                        <i class="fas fa-comment"></i> Comment <span class="count">0</span>
                    </button>
                    <button class="action-btn" onclick="toggleShare(this)">
                        <i class="fas fa-share"></i> Share <span class="count">0</span>
                    </button>
                    <button class="save-btn" onclick="savePost(this)">Save</button>
                </div>
                <div class="comments-section" style="display: none;">
                    <input type="text" class="comment-input" placeholder="Write a comment..." 
                           onkeypress="addComment(event, this)">
                </div>
            `;
            postsContainer.insertBefore(livePost, postsContainer.firstChild);
        }

        function createPoll() {
            const question = prompt('Enter poll question:');
            if (!question) return;
            const options = [];
            for (let i = 1; i <= 3; i++) {
                const option = prompt(`Enter option ${i} (or leave blank to stop):`);
                if (!option) break;
                options.push(option);
            }
            if (options.length < 2) {
                alert('A poll needs at least 2 options!');
                return;
            }

            const postsContainer = document.getElementById('posts-container');
            const pollPost = document.createElement('div');
            pollPost.className = 'post';
            pollPost.innerHTML = `
                <button class="report-btn" onclick="reportPost(this)">⚠</button>
                <button class="delete-btn" onclick="deletePost(this)">×</button>
                <button class="edit-btn" onclick="editPost(this)">✎</button>
                <div class="post-header">
                    <div class="profile-pic"></div>
                    <div class="post-meta">
                        <div class="username">Sabbir <span class="category">Poll</span></div>
                        <div class="timestamp">Just now</div>
                    </div>
                </div>
                <div class="post-content">${question}</div>
                <div class="poll-options">
                    ${options.map(opt => `<div class="poll-option" onclick="votePoll(this)">${opt} <span class="count">0 votes</span></div>`).join('')}
                </div>
                <div class="action-section">
                    <button class="action-btn" onclick="toggleLike(this)">
                        <i class="fas fa-thumbs-up"></i> Like <span class="count">0</span>
                        <div class="reactions">
                            <span class="reaction" onclick="react(this, '👍')">👍</span>
                            <span class="reaction" onclick="react(this, '❤️')">❤️</span>
                            <span class="reaction" onclick="react(this, '😂')">😂</span>
                            <span class="reaction" onclick="react(this, '😮')">😮</span>
                            <span class="reaction" onclick="react(this, '😢')">😢</span>
                            <span class="reaction" onclick="react(this, '😡')">😡</span>
                        </div>
                    </button>
                    <button class="action-btn" onclick="toggleComment(this)">
                        <i class="fas fa-comment"></i> Comment <span class="count">0</span>
                    </button>
                    <button class="action-btn" onclick="toggleShare(this)">
                        <i class="fas fa-share"></i> Share <span class="count">0</span>
                    </button>
                    <button class="save-btn" onclick="savePost(this)">Save</button>
                </div>
                <div class="comments-section" style="display: none;">
                    <input type="text" class="comment-input" placeholder="Write a comment..." 
                           onkeypress="addComment(event, this)">
                </div>
            `;
            postsContainer.insertBefore(pollPost, postsContainer.firstChild);
            addNotification('You created a poll');
            updateTrending('Poll');
        }

        function votePoll(option) {
            if (option.classList.contains('voted')) return;
            const options = option.parentElement.querySelectorAll('.poll-option');
            options.forEach(opt => opt.classList.remove('voted'));
            option.classList.add('voted');
            const countElement = option.querySelector('.count');
            let count = parseInt(countElement.textContent) + 1;
            countElement.textContent = `${count} votes`;
            addNotification('You voted in a poll');
        }

        function addGif() {
            const gifUrl = prompt('Enter GIF URL (e.g., from GIPHY):');
            if (!gifUrl) return;

            const postsContainer = document.getElementById('posts-container');
            const gifPost = document.createElement('div');
            gifPost.className = 'post';
            gifPost.innerHTML = `
                <button class="report-btn" onclick="reportPost(this)">⚠</button>
                <button class="delete-btn" onclick="deletePost(this)">×</button>
                <button class="edit-btn" onclick="editPost(this)">✎</button>
                <div class="post-header">
                    <div class="profile-pic"></div>
                    <div class="post-meta">
                        <div class="username">Sabbir <span class="category">GIF</span></div>
                        <div class="timestamp">Just now</div>
                    </div>
                </div>
                <div class="post-content">Check out this cool GIF!</div>
                <img class="post-image" src="${gifUrl}" alt="GIF">
                <div class="action-section">
                    <button class="action-btn" onclick="toggleLike(this)">
                        <i class="fas fa-thumbs-up"></i> Like <span class="count">0</span>
                        <div class="reactions">
                            <span class="reaction" onclick="react(this, '👍')">👍</span>
                            <span class="reaction" onclick="react(this, '❤️')">❤️</span>
                            <span class="reaction" onclick="react(this, '😂')">😂</span>
                            <span class="reaction" onclick="react(this, '😮')">😮</span>
                            <span class="reaction" onclick="react(this, '😢')">😢</span>
                            <span class="reaction" onclick="react(this, '😡')">😡</span>
                        </div>
                    </button>
                    <button class="action-btn" onclick="toggleComment(this)">
                        <i class="fas fa-comment"></i> Comment <span class="count">0</span>
                    </button>
                    <button class="action-btn" onclick="toggleShare(this)">
                        <i class="fas fa-share"></i> Share <span class="count">0</span>
                    </button>
                    <button class="save-btn" onclick="savePost(this)">Save</button>
                </div>
                <div class="comments-section" style="display: none;">
                    <input type="text" class="comment-input" placeholder="Write a comment..." 
                           onkeypress="addComment(event, this)">
                </div>
            `;
            postsContainer.insertBefore(gifPost, postsContainer.firstChild);
            addNotification('You posted a GIF');
            updateTrending('GIF');
        }

        function viewStory(content) {
            alert(`Story: ${content}`);
            addNotification('You viewed a story');
        }

        function addNotification(message) {
            const notifications = document.querySelector('.notifications');
            const newNotification = document.createElement('div');
            newNotification.className = 'notification';
            newNotification.innerHTML = `<span>${message}</span>`;
            notifications.insertBefore(newNotification, notifications.children[1] || notifications.lastElementChild.nextSibling);
        }

        function updateTrending(category) {
            const trending = document.querySelector('.trending');
            const items = trending.querySelectorAll('.trending-item');
            let updated = false;
            items.forEach(item => {
                if (item.querySelector('span').textContent === `#${category}`) {
                    const countElement = item.querySelector('.count');
                    let count = parseInt(countElement.textContent) + 1;
                    countElement.textContent = `${count} posts`;
                    updated = true;
                }
            });
            if (!updated) {
                const newItem = document.createElement('div');
                newItem.className = 'trending-item';
                newItem.innerHTML = `<span>#${category}</span><span class="count">1 post</span>`;
                trending.appendChild(newItem);
            }
        }
    </script>
</body>
</html>
